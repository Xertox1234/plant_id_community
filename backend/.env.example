# Django Core Settings
DEBUG=True
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=REQUIRED__GENERATE_WITH__python_-c_from_django_get_random_secret_key
ALLOWED_HOSTS=localhost,127.0.0.1

# Database Configuration
DATABASE_URL=postgres://user:password@localhost:5432/plant_community
# For development, you can use SQLite:
# DATABASE_URL=sqlite:///db.sqlite3

# Redis Cache & Sessions (Week 2 Performance Optimization)
REDIS_URL=redis://localhost:6379/1
CACHE_TIMEOUT=86400  # Cache timeout in seconds (24 hours)
REDIS_MAX_CONNECTIONS=50
REDIS_MAX_ENTRIES=10000
REDIS_TIMEOUT=5

# Performance Configuration (Week 2 Optimization)
# ThreadPoolExecutor max workers for parallel API calls
# Recommended: 2x CPU cores for I/O-bound tasks
PLANT_ID_MAX_WORKERS=8
ENABLE_QUERY_LOGGING=False
SLOW_QUERY_THRESHOLD=100

# External API Keys (Required for full functionality)
# Plant.id (Kindwise) - Primary identification service (100 IDs/month free)
# Get from: https://web.plant.id/
PLANT_ID_API_KEY=REQUIRED__GET_FROM__https://web.plant.id/

# PlantNet - Supplemental identification (500/day free)
# Get from: https://my.plantnet.org/
PLANTNET_API_KEY=REQUIRED__GET_FROM__https://my.plantnet.org/

# Trefle - Plant database enrichment (optional)
TREFLE_API_KEY=your-trefle-api-key-here

# Plant Health API (if different from Plant.id)
PLANT_HEALTH_API_KEY=your-plant-health-api-key-here

# OpenAI - AI-generated care instructions (optional)
OPENAI_API_KEY=your-openai-api-key-here

# Image Service APIs (Optional)
UNSPLASH_ACCESS_KEY=your-unsplash-access-key
PEXELS_API_KEY=your-pexels-api-key

# OAuth Provider Credentials
GOOGLE_OAUTH2_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_OAUTH2_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# JWT Authentication Settings (CRITICAL SECURITY)
# JWT_SECRET_KEY is REQUIRED in ALL environments (no fallbacks, no exceptions)
# MUST be different from SECRET_KEY (separate keys prevent cascade compromise)
# MUST be at least 50 characters (cryptographic security requirement)
#
# Generate a secure 86-character key with:
#   python -c 'import secrets; print(secrets.token_urlsafe(64))'
#
# IMPORTANT:
# - Use a DIFFERENT key than SECRET_KEY above
# - Never commit real keys to version control
# - Rotate this key if you suspect compromise (will invalidate all JWT tokens)
#
JWT_SECRET_KEY=REQUIRED__GENERATE_WITH__python_-c_import_secrets_token_urlsafe_64

# JWT Token Lifetimes (OWASP Security Guidelines)
# IMPORTANT: Values are in MINUTES for access token, DAYS for refresh token
# Current: 1 hour access (Phase 1), Target: 15 minutes (Phase 2 with frontend auto-refresh)
# See: https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html
JWT_ACCESS_TOKEN_LIFETIME=60  # minutes (1 hour) - OWASP recommends 15-60 minutes
JWT_REFRESH_TOKEN_LIFETIME=7  # days (7 days) - Standard: 7-30 days
JWT_ACCESS_TOKEN_LIFETIME_DEBUG=120  # minutes (2 hours) - Debug mode only (if DEBUG=True)

# PII Encryption Settings (GDPR Article 32 Compliance)
# Used for encrypting PII fields (email, phone, etc.) at rest in the database
# REQUIRED in production for GDPR compliance
# Generate with: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
# IMPORTANT: Use a DIFFERENT key from SECRET_KEY and JWT_SECRET_KEY
# Format: 44-character Fernet key (32 url-safe base64-encoded bytes)
FIELD_ENCRYPTION_KEY=REQUIRED__GENERATE_WITH__python_-c_from_cryptography_fernet_Fernet_generate_key

# Feature Flags
ENABLE_FORUM=True
ENABLE_TREFLE_ENRICHMENT=True
ENABLE_AI_CONTENT_GENERATION=True
ENABLE_COMMUNITY_VOTING=True
ENABLE_DISEASE_DIAGNOSIS=True

# CORS & Security Settings
# Note: React dev server runs on port 5174 (see CLAUDE.md)
# Add additional ports if using different configuration
CORS_ALLOWED_ORIGINS=http://localhost:5174,http://127.0.0.1:5174
CSRF_TRUSTED_ORIGINS=http://localhost:5174,http://127.0.0.1:5174

# Email Settings (Optional - defaults to console backend in development)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@plantcommunity.com

# File Storage Settings
MEDIA_ROOT=media/
STATIC_ROOT=staticfiles/
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=True
DEFAULT_RATE_LIMIT=30/m  # 30 requests per minute
AUTH_RATE_LIMIT=5/m      # 5 authentication attempts per minute
UPLOAD_RATE_LIMIT=10/m   # 10 file uploads per minute

# External Service Timeouts (seconds)
TREFLE_API_TIMEOUT=10
PLANTNET_API_TIMEOUT=15
PLANT_HEALTH_API_TIMEOUT=20
OPENAI_API_TIMEOUT=30

# Production Security Settings (set to True in production)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin
SESSION_COOKIE_SECURE=False  # Set to True in production with HTTPS
CSRF_COOKIE_SECURE=False     # Set to True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# Logging Configuration
LOG_LEVEL=INFO
LOG_TO_FILE=False
LOG_FILE_PATH=logs/django.log

# Development Tools (disable in production)
ENABLE_DEBUG_TOOLBAR=True
ENABLE_SILK_PROFILING=False